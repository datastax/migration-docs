= FAQs

If you're new to the {company} {zdm-product} features, these FAQs are for you.

== What is meant by "{zdm-product}" (ZDM)?

{zdm-product} ({zdm-shortproduct}) means the ability for you to reliably migrate client applications and data between CQL clusters with no interruption of service.

{zdm-shortproduct} lets you accomplish migrations without the need to change your client application code, and with only minimal configuration changes. While in some cases you may need to make some minor changes at the client application level, these changes will be minimal and non-invasive, especially if your client application uses an externalized property configuration for contact points.

The suite of {zdm-shortproduct} tools enables you to migrate the real-time activity generated by your client applications, as well as transfer your existing data, always with a simple rollback strategy that does not require any downtime.

It is important to note that the {zdm-product} process requires you to be able to perform rolling restarts of your client applications during the migration.

[TIP]
====
In the context of migrating between clusters (client applications and data), the examples in this guide sometimes refer to the migration to our cloud-native database environment, DataStax Astra DB.

However, it is important to emphasize that the {zdm-proxy} can be freely used to migrate without downtime between any combination of CQL clusters of any type. In addition to Astra DB, examples are Apache Cassandra&reg; or DataStax Enterprise (DSE).
====

== Can you illustrate the overall workflow and phases of a migration?

Here's a high-level view:

image:zdm-workflow3.png[Migration workflow from client to {zdm-proxy} with dual writes to Origin and Target.]

Here are the phases of a migration from start to finish:

image:zdm-migration-phases6a.png[Migration phases from start to finish]

For more, see xref:migration-introduction.adoc[].

== What components are provided with ZDM?

{company} {zdm-product} includes the following:

* **{zdm-proxy}** is a service that operates between your existing (**Origin**) cluster and the new (**Target**) cluster.
* The **{zdm-automation}** is an Ansible-based tool that allows you to deploy and manage the {zdm-proxy} instances and the associated monitoring stack. To simplify its setup, the suite includes the {zdm-utility}. This is an interactive utility that creates a Docker container acting as the Ansible Control Host, from which the Ansible playbooks can be easily run with the {zdm-automation}.
* **{cstar-data-migrator}** is designed to:
** Connect to your clusters and compare the data between Origin and Target
** Report differences in a detailed log file
** Reconcile any missing records and fix any data inconsistencies between Origin and Target, if you enable `autocorrect` in a configuration file
* **{dsbulk-migrator}** is provided to migrate smaller amounts of data (up to 20 GBs) **[ TODO: verify max guidelines ]** between Origin and Target.
* Well-defined steps in this migration documentation, organized as a sequence of phases.

== What exactly is {zdm-proxy}?

{zdm-proxy} is a component designed to seamlessly handle the real-time client application activity while a migration is in progress. See xref:migration-introduction.adoc#_role_of_zdm_proxy[here] for an overview.

== What are the benefits of {zdm-product} and its use cases?

Migrating client applications between clusters is a need that arises in many scenarios. For example, you may want to:

* Move to a cloud-native, managed service such as Astra DB
* Migrate your client application to a brand new cluster, on a more recent version and perhaps on new infrastructure, or even a different CQL database entirely, without intermediate upgrade steps and ensuring that you always have an easy way to rollback in case of issues.
* Separate out a client application from a shared cluster to a dedicated one.
* Consolidate client applications, currently running on separate clusters, into fewer clusters or even a single one.

Bottom line: you want to migrate your critical database infrastructure without risk or concern that your users' experiences will be affected.

== What challenges does ZDM solve?

Before {zdm-product} was available, migrating client applications between clusters involved granular and intrusive client application code changes, extensive migration preparation, and potentially a window of downtime to the client application's end users.

{company} {zdm-product} allows you to leverage mature migration tools that have been used with large scale enterprises and applications to make migrations easy and transparent to end users.

== What is the pricing model?

The suite of {zdm-product} tools from DataStax is free and open sourced.

== Is there support available if I have questions or issues during our migration?

If needed, {zdm-proxy} and related software tools in the migration suite include technical assistance by https://support.datastax.com/s/[DataStax Support^].

For any observed problems with the {zdm-proxy}, please contact us. In the {zdm-proxy} GitHub repo, submit a https://github.com/datastax/zdm-proxy/issues[GitHub Issue^].

Additional examples serve as templates, from which you can learn about migrations. DataStax does not assume responsibility for making the templates work for specific use cases.

== Where are the public GitHub repos?

All the {company} {zdm-product} GitHub repos are public. You are welcome to read the source and submit feedback via GitHub Issues per repo.

* https://github.com/datastax/zdm-proxy[{zdm-proxy}^] open-source repo: in addition to sending feedback, you may submit Pull Requests (PRs) for potential inclusion.

* https://github.com/datastax/zdm-proxy-automation[{zdm-automation}^] repo for the Ansible-based {zdm-proxy} automation.

* https://github.com/datastax/cassandra-data-migrator[Cassandra Data Migrator^] repo for migration of larger data quantities and where detailed verifications and reconciliation options are needed.

* https://github.com/datastax/dsbulk-migrator[DSBulk Migrator^] repo for migration of smaller data quantities.

// * https://github.com/datastax/migration-docs[Migration documentation^] repo.

== Does {zdm-proxy} support Transport Layer Security (TLS)?

Yes, and here's a summary:

* For application-to-proxy TLS, the application is the TLS client and the {zdm-proxy} is the TLS server. One-way TLS and Mutual TLS are both supported.

* For proxy-to-cluster TLS, the {zdm-proxy} acts as the TLS client and the cluster as the TLS server. One-way TLS and Mutual TLS are both supported.

* When the {zdm-proxy} connects to Astra DB clusters, it always implicitly uses Mutual TLS. This is done through the Secure Connect Bundle (SCB) and does not require any extra configuration.

For TLS details, see xref:migration-tls.adoc[].

== What are the benefits of using a cloud-native database?

When moving your client applications and data from on-premise Cassandra Query Language (CQL) based data stores (Apache Cassandra or DSE) to a cloud-native database (CNDB) like Astra DB, it's important to acknowledge the fundamental differences ahead. With on-premise infrastructure, of course, you have total control of the data center's physical infrastructure, software configurations, and your custom procedures. At the same time, with on-premise clusters you take on the cost of infrastructure resources, maintenance, operations, personnel.

Ranging from large enterprises to small teams, IT managers, operators, and developers are realizing that the Total Cost of Ownership (TCO) with cloud solutions is much lower than continuing to run on-prem physical data centers.

A CNDB like Astra DB is a different environment. Running on proven cloud providers like AWS, Google Cloud, and Azure, Astra DB greatly reduces complexity and increases convenience by surfacing a subset of configurable settings, providing a well-designed UI known as Astra Portal, and a set of APIs to interact programmatically with your Astra DB organizations and databases.

== Internal FAQ: where's are the built docs located before 2.0.0 GA?

[TODO remove before release]

From the Asciidoc markdown sources, the deployment script writes the topics to http://coppi-ssh.aws.dsinternal.org/en/astra-classic-zdm/docs/migrate/migration-introduction.html[this internal review server^]. Requires AWS Lab VPN access. For the external release, the DataStax {zdm-product} 2.0 docs will reside on docs.datastax.com in the Astra DB docs, and will be referenced from the DSE docs.
